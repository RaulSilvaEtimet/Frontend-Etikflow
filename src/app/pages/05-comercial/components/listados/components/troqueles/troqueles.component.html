<app-blocked-send-info-database [blockedPanel]="blockedSendData"></app-blocked-send-info-database>
<p-card header="Listado de troqueles">
    <div class="flex gap-2 flex-column">
        <p-table #dtData [value]="listTroquel" [tableStyle]="{'min-width': '50rem'}" [loading]="loadingTroquel"
            [paginator]="true" [rows]="10" styleClass="p-datatable-sm"
            [globalFilterFields]="['IdTroquel','DescripcionTroquel','CodigoInternoTroquel','ZetaTroquel','DesarrolloEtiqueta','AnchoEtiqueta']"
            [rowsPerPageOptions]="[10,20,50]">
            <ng-template pTemplate="caption">
                <div class="flex">
                    <p-button label="Sincronizar" icon="pi pi-sync" [loading]="loadingTroquel" (onClick)="ngOnInit()"
                        [raised]="true"></p-button>
                    <span class="p-input-icon-left ml-auto">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" [(ngModel)]="searchTroquel" (input)="onGlobalFilter(dtData
                            , $event)" placeholder="Filtrar..." />
                    </span>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="IdTroquel">
                        Id<p-sortIcon field="IdTroquel" />
                    </th>
                    <th pSortableColumn="DescripcionTroquel">
                        Descripci√≥n<p-sortIcon field="DescripcionTroquel" />
                    </th>
                    <th pSortableColumn="CodigoInternoTroquel">
                        Codigo Interno <p-sortIcon field="CodigoInternoTroquel" /></th>
                    <th pSortableColumn="ZetaTroquel">
                        Zeta<p-sortIcon field="ZetaTroquel" />
                    </th>
                    <th pSortableColumn="DesarrolloEtiqueta">
                        Desarrollo Etiqueta (mm)<p-sortIcon field="DesarrolloEtiqueta" />
                    </th>
                    <th pSortableColumn="AnchoEtiqueta">
                        Ancho Etiqueta (mm)<p-sortIcon field="AnchoEtiqueta" />
                    </th>
                    <th>
                        Estado
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td>
                        <p-button [label]="item.IdTroquel" [link]="true"></p-button>
                    </td>
                    <td>{{item.DescripcionTroquel }}</td>
                    <td>{{item.CodigoInternoTroquel}}</td>
                    <td>{{item.ZetaTroquel}}</td>
                    <td>{{item.DesarrolloEtiqueta}}</td>
                    <td>{{item.AnchoEtiqueta}}</td>
                    <td>
                        <p-tag *ngIf="item.Estado" value="Activado" severity="success" />
                        <p-tag *ngIf="!item.Estado" value="Desactivado" severity="danger" />
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</p-card>